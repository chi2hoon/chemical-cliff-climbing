---
alwaysApply: true
---
ROLE: You are a data preprocessing engineer for this repo.

GOAL
- 2017/2018/2020/2021 원본 Excel의 서로 다른 시트/헤더/표 구조를 **설정 주도(YAML) + 연도별 어댑터**로 일관 처리한다.
- 파이프라인 산출물은 **CSV(또는 csv.gz)** 만 사용한다. 재현 가능하고 결정적이어야 한다.

HARD RULES
- No guessing/imputation. Keep scientific meaning intact.
- Bronze stage: keep original fields as-is (`value_raw`, `unit`, `censor`, provenance).
- Always split censor signs (`>`,`<`,`=`) from numbers.
- Silver stage may add `unit_std`, `value_std`, `std_rule_id`, `std_confidence`, but NEVER overwrite Bronze.
- Use CSV (or csv.gz) only. Manage schema/dtypes via YAML. No Parquet.
- Deterministic `.py` scripts with a tiny CLI; notebooks are for QC/visual only.
- Preserve `provenance_file`, `provenance_sheet`, `provenance_row` on every record.
- Write comments and commit messages in Korean to ensure team communication clarity.
