file: data/raw/2021_raw.xlsx
read: {dtype: str, engine: openpyxl}
sheets:
  - name: "Intermediate 1~249"
    tables:
      - id: compounds
        range: "A2:G282"  # 헤더행 포함 블록
        header_row_offset: 0
        rename:
          "Compound # ": compound_id
          "Structure (구조) - SMILES": smiles_raw
          Name: iupac_name
          "Asterik(*) included": flag_asterisk
          Fixed: flag_fixed
          비고: note

silver:
  compounds:
    from: data/ingest/2021/tables/compounds.csv
  assays:
    from_matrix:
      sheet: "EXAMPLES Table"
      target_id: cell_panel
      assay_id: cell.cytotoxicity.ic50
      matrix:
        id: ex_table
        range: "A1:Z200"
        panel_row_offset: 0
        cellline_row_offset: 1
        data_row_start: 2
        id_col: 0
        panels: []
        value_parser:
          unit_default: uM
          rules:
            - ">=?\\s*([\\d\\.]+)\\s*µ?M -> qualifier:'>', value:\\1, unit:uM"
            - "([\\d\\.]+)\\s*µ?M -> qualifier:'=', value:\\1, unit:uM"
flags_from_color:
  col_index: 3
  map: {"00FF00": flag_asterisk, "FF0000": flag_imaging_conflict}
